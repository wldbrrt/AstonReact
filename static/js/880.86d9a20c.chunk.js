"use strict";(self.webpackChunkastonreact=self.webpackChunkastonreact||[]).push([[880],{6880:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var n=s(4165),a=s(5861),r=s(9439),i=s(9690),c=s(6579),o=s(3331),h=function(e){var t=new Date(e),s="".concat(t.getFullYear(),"-").concat(t.getMonth(),"-").concat(t.getDay());return Date.parse(s)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date(e),n=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear(),a=n+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();return t?a:n},l=s(7689),d=(s(2791),s(184));function f(){var e,t=(0,c.o9)().email,s=(0,i.vO)({email:t}),f=s.data,v=s.isSuccess,m=s.isLoading,g=s.isFetching,x=s.error,p=s.isError,j=(0,i.aT)(),y=(0,r.Z)(j,1)[0],_=(0,l.s0)(),w=(0,i.hm)(),L=(0,r.Z)(w,1)[0],N=h((new Date).toISOString());if(g||m)e=(0,d.jsx)(o.a,{});else if(v&&!f.history.length)e="Nothing was found";else if(v){var k={};f.history.forEach((function(e){var t=h(e.date);k[t]?k[t].push(e):k[t]=[e]})),e=Object.values(k).reverse().map((function(e,t){return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:h(e[0].date)===N?"Today":u(e[0].date)}),(0,d.jsx)("div",{className:"historyList__wrapper",children:e.reverse().map((function(e,t){return(0,d.jsxs)("div",{className:"histotyList__item",onClick:function(){_({pathname:"/",search:"?search=".concat(e.searchReq,"&page=1")})},children:[(0,d.jsx)("div",{className:"histotyList__name",children:e.searchReq}),(0,d.jsx)("div",{className:"histotyList__date",children:u(e.date,!0)})]},t)}))})]},e[0].date+t)}))}else p&&(e=(0,d.jsx)("div",{children:String(x)}));return(0,d.jsxs)("div",{className:"histotyList",children:[(0,d.jsx)("button",{onClick:(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({email:t});case 2:return e.next=4,y({email:t});case 4:case"end":return e.stop()}}),e)}))),className:"historyList__button button",children:"Clear history"}),(0,d.jsx)("div",{className:"historyList__container",children:e})]})}function v(){return(0,d.jsx)(f,{})}}}]);
//# sourceMappingURL=880.86d9a20c.chunk.js.map