{"version":3,"file":"static/js/763.9fa3d852.chunk.js","mappings":"iQAWA,SAASA,IACL,IAUIC,EAVJC,GAA0BC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACdI,GAAUC,EAAAA,EAAAA,MAAVD,MACRE,GACIC,EAAAA,EAAAA,IAAuB,CACnBH,MAAOA,IAFPI,EAAIF,EAAJE,KAAMC,EAASH,EAATG,UAAWC,EAASJ,EAATI,UAAWC,EAAUL,EAAVK,WAAYC,EAAKN,EAALM,MAAOC,EAAOP,EAAPO,QAIvDC,GAA+BC,EAAAA,EAAAA,MAAxBC,GAAoDf,EAAAA,EAAAA,GAAAa,EAAA,GAAhC,GACrBG,GAAWC,EAAAA,EAAAA,MACjBC,GAA+BC,EAAAA,EAAAA,MAAxBC,GAAuDpB,EAAAA,EAAAA,GAAAkB,EAAA,GAAnC,GAkC3B,OA/BIR,GAAcD,EACdb,GAAUyB,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACVd,IAAcD,EAAKgB,QAAQC,OAClC5B,EAAU,oBACHY,EACPZ,EAAUW,EAAKgB,QAAQE,KAAI,SAACC,EAAGC,GAAK,OAChCC,EAAAA,EAAAA,MAAA,OAEIC,UAAU,oBACVC,QAAS,WACDJ,EAAEK,YACF7B,GAAS,SAAA8B,GAGL,OAFAA,EAAOC,IAAI,SAAS,GAADC,OAAKR,EAAEK,YAC1BC,EAAOC,IAAI,OAAQ,KACZD,CACX,IACAhB,EAAS,CACLmB,SAAU,IACVC,OAAO,IAADF,OAAMjC,KAGxB,EAAEoC,SAAA,EAEFhB,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,oBAAmBQ,SAAEX,EAAEK,aACtCV,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,oBAAmBQ,SAAEX,EAAEY,SAjBjCX,EAkBH,IAEHf,IACPhB,GAAUyB,EAAAA,EAAAA,KAAA,OAAAgB,SAAME,OAAO5B,OAIvBiB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaQ,SAAA,EACxBhB,EAAAA,EAAAA,KAAA,UACIS,SAAOU,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACC3B,EAAqB,CAAEjB,MAAOA,IAAQ,cAAA0C,EAAAE,KAAA,EACtChC,EAAqB,CAAEZ,MAAOA,IAAQ,wBAAA0C,EAAAG,OAAA,GAAAL,EAAA,KAEhDd,UAAU,sBAAqBQ,SAClC,mBAGDhB,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,yBAAwBQ,SAAEzC,MAGrD,CC/DA,SAASqD,IAGL,OAFmB7C,EAAAA,EAAAA,MAAX8C,QAEQ7B,EAAAA,EAAAA,KAAC1B,EAAW,KAAM0B,EAAAA,EAAAA,KAAC8B,EAAAA,GAAQ,CAACC,GAAG,WACnD,C","sources":["components/historyList/historyList.tsx","pages/history.tsx"],"sourcesContent":["import {\r\n    useGetUserHistoryQuery,\r\n    useLazyDeleteUserHistoryQuery,\r\n    useLazyGetUserHistoryQuery,\r\n} from '../../store/slices/firestoreApi'\r\nimport { useAuthorization } from '../../store/hooks'\r\nimport { Loader } from '../loader/loader'\r\nimport { useNavigate, useSearchParams } from 'react-router-dom'\r\nimport React from 'react'\r\nimport './historyList.css'\r\n\r\nfunction HistoryList() {\r\n    const [value, setValue] = useSearchParams()\r\n    const { email } = useAuthorization()\r\n    const { data, isSuccess, isLoading, isFetching, error, isError } =\r\n        useGetUserHistoryQuery({\r\n            email: email,\r\n        })\r\n    const [triggerUpdateHistory] = useLazyGetUserHistoryQuery()\r\n    const navigate = useNavigate()\r\n    const [triggerDeleteHistory] = useLazyDeleteUserHistoryQuery()\r\n\r\n    let content\r\n    if (isFetching || isLoading) {\r\n        content = <Loader />\r\n    } else if (isSuccess && !data.history.length) {\r\n        content = 'Nothing was found'\r\n    } else if (isSuccess) {\r\n        content = data.history.map((e, index) => (\r\n            <div\r\n                key={index}\r\n                className='histotyList__item'\r\n                onClick={() => {\r\n                    if (e.searchReq) {\r\n                        setValue(params => {\r\n                            params.set('search', `${e.searchReq}`)\r\n                            params.set('page', '1')\r\n                            return params\r\n                        })\r\n                        navigate({\r\n                            pathname: '/',\r\n                            search: `?${value}`,\r\n                        })\r\n                    }\r\n                }}\r\n            >\r\n                <div className='histotyList__name'>{e.searchReq}</div>\r\n                <div className='histotyList__date'>{e.date}</div>\r\n            </div>\r\n        ))\r\n    } else if (isError) {\r\n        content = <div>{String(error)}</div>\r\n    }\r\n\r\n    return (\r\n        <div className='histotyList'>\r\n            <button\r\n                onClick={async () => {\r\n                    await triggerDeleteHistory({ email: email })\r\n                    await triggerUpdateHistory({ email: email })\r\n                }}\r\n                className='historyList__button'\r\n            >\r\n                Clear history\r\n            </button>\r\n            <div className='historyList__container'>{content}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { HistoryList }\r\n","import { HistoryList } from '../components/historyList/historyList'\r\nimport { useAuthorization } from '../store/hooks'\r\nimport { Navigate } from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nfunction History() {\r\n    const { isAuth } = useAuthorization()\r\n\r\n    return isAuth ? <HistoryList /> : <Navigate to='/SignUp' />\r\n}\r\n\r\nexport { History as default }\r\n"],"names":["HistoryList","content","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","value","setValue","email","useAuthorization","_useGetUserHistoryQue","useGetUserHistoryQuery","data","isSuccess","isLoading","isFetching","error","isError","_useLazyGetUserHistor","useLazyGetUserHistoryQuery","triggerUpdateHistory","navigate","useNavigate","_useLazyDeleteUserHis","useLazyDeleteUserHistoryQuery","triggerDeleteHistory","_jsx","Loader","history","length","map","e","index","_jsxs","className","onClick","searchReq","params","set","concat","pathname","search","children","date","String","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","History","isAuth","Navigate","to"],"sourceRoot":""}