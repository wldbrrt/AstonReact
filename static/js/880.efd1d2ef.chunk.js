"use strict";(self.webpackChunkastonreact=self.webpackChunkastonreact||[]).push([[880],{6653:function(t,e,n){n.d(e,{x:function(){return r}});n(2791);var s=n(7689),a=n(184),r=function(){var t=(0,s.s0)();return(0,a.jsx)("div",{className:"backButton__wrapper",children:(0,a.jsx)("button",{className:"button backButton",onClick:function(){return t(-1)},children:"GO BACK"})})}},6880:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var s=n(4165),a=n(5861),r=n(9439),i=n(9690),c=n(6579),o=n(3331),u=function(t){var e=new Date(t),n="".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDay());return Date.parse(n)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(t),s=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),a=s+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();return e?a:s},h=n(6653),d=n(7689),f=(n(2791),n(184));function v(){var t,e=(0,c.o9)().email,n=(0,i.vO)({email:e}),v=n.data,m=n.isSuccess,x=n.isLoading,j=n.isFetching,_=n.error,g=n.isError,p=(0,i.aT)(),y=(0,r.Z)(p,1)[0],b=(0,d.s0)(),N=(0,i.hm)(),k=(0,r.Z)(N,1)[0],w=u((new Date).toISOString());if(j||x)t=(0,f.jsx)(o.a,{});else if(m&&!v.history.length)t="Nothing was found";else if(m){var L={};v.history.forEach((function(t){var e=u(t.date);L[e]?L[e].push(t):L[e]=[t]})),t=Object.values(L).reverse().map((function(t,e){return(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:u(t[0].date)===w?"Today":l(t[0].date)}),(0,f.jsx)("div",{className:"historyList__wrapper",children:t.reverse().map((function(t,e){return(0,f.jsxs)("div",{className:"histotyList__item",onClick:function(){b({pathname:"/",search:"?search=".concat(t.searchReq,"&page=1")})},children:[(0,f.jsx)("div",{className:"histotyList__name",children:t.searchReq}),(0,f.jsx)("div",{className:"histotyList__date",children:l(t.date,!0)})]},e)}))})]},t[0].date+e)}))}else g&&(t=(0,f.jsx)("div",{children:String(_)}));return(0,f.jsxs)("div",{className:"histotyList",children:[(0,f.jsxs)("div",{className:"historyList__actionbar",children:[(0,f.jsx)("button",{onClick:(0,a.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k({email:e});case 2:return t.next=4,y({email:e});case 4:case"end":return t.stop()}}),t)}))),className:"historyList__button button",children:"Clear history"}),(0,f.jsx)("div",{className:"historyList__backButton",children:(0,f.jsx)(h.x,{})})]}),(0,f.jsx)("div",{className:"historyList__container",children:t})]})}function m(){return(0,f.jsx)(v,{})}}}]);
//# sourceMappingURL=880.efd1d2ef.chunk.js.map